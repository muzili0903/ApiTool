from django.test import TestCase
import re

# Create your tests here.
import json
dd = {}
data = {
    'msg': '[{"model": "sqlDispose.sqldispose", "pk": 1, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 2, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 3, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 4, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 5, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 6, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 7, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 8, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 9, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 10, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 11, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}, {"model": "sqlDispose.sqldispose", "pk": 12, "fields": {"host": "192.168.10.1", "port": "3306", "user": "muzili", "password": "muzili", "dbName": "apitool", "sqlType": "mysql", "mark": "1", "encoding": "utf-8", "linkTest": 0, "founder": "00001844", "create_time": "2021-05-05T13:42:57.314", "update_person": "", "update_time": "2021-05-05T13:43:25.946", "ext1": "0", "ext2": "0", "ext3": "0", "ext4": "0", "ext5": "0"}}]'}

p = re.compile('(msg["\']?: *["\'])(.+)(["\'],)')
res = p.match(data.get('msg'))
print(res)
d = eval('{}'.format(data['msg']))
dd['msg'] = d
t = dd.get('k') or None
print(t)

# json_str = json.dumps(data, ensure_ascii=False, indent=4, sort_keys=True)

